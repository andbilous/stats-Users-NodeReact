{"ast":null,"code":"import _slicedToArray from \"/Users/andbilous/Desktop/fullstack-task/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andbilous/Desktop/fullstack-task/client/src/pages/UserListPage/UserListPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Table from 'react-bootstrap/Table';\nimport Pagination from 'react-bootstrap/Pagination';\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\n\nconst UserListPage = ({\n  setUserId\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(1),\n        _useState4 = _slicedToArray(_useState3, 2),\n        active = _useState4[0],\n        setActive = _useState4[1];\n\n  let items = [];\n\n  const paginationClickHandler = e => {\n    setActive(parseInt(e.target.text));\n    fetchData(parseInt(e.target.text) * 50 - 50);\n  };\n\n  const changeRowColor = e => {\n    e.target.parentElement.style.backgroundColor = 'red';\n  };\n\n  const resetRowColor = e => {\n    e.target.parentElement.style.backgroundColor = 'white';\n  };\n\n  const rowClickHandler = id => {\n    setUserId(id);\n    history.push('/posts/');\n    return React.createElement(Redirect, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    });\n  };\n\n  for (let number = 1; number <= 10; number++) {\n    items.push(React.createElement(Pagination.Item, {\n      onClick: paginationClickHandler,\n      key: number,\n      active: number === active,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, number));\n  }\n\n  const fetchData = startIndex => {\n    axios.get(`http://localhost:5000/users/${startIndex}`).then(res => {\n      setData(res.data.users);\n    });\n  };\n\n  useEffect(() => {\n    fetchData(0);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    bg: \"primary\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Navbar\")), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"User Statistics\"), React.createElement(Table, {\n    responsive: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"id\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"first_name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"last_name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"gender\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"ip_address\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"total_clicks\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"total_page_views\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, data.map(user => {\n    return React.createElement(\"tr\", {\n      onMouseLeave: resetRowColor,\n      onMouseOver: changeRowColor,\n      onClick: e => rowClickHandler(user.id),\n      key: user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, user.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, user.first_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, user.last_name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, user.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, user.gender), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, user.ip_address), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, user.total_clicks), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, user.total_page_views));\n  }))), React.createElement(Pagination, {\n    size: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, items), React.createElement(Navbar, {\n    bg: \"primary\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Navbar\")));\n};\n\nexport default withRouter(UserListPage);","map":{"version":3,"sources":["/Users/andbilous/Desktop/fullstack-task/client/src/pages/UserListPage/UserListPage.js"],"names":["React","useEffect","useState","Navbar","Table","Pagination","axios","Redirect","withRouter","UserListPage","setUserId","data","setData","active","setActive","items","paginationClickHandler","e","parseInt","target","text","fetchData","changeRowColor","parentElement","style","backgroundColor","resetRowColor","rowClickHandler","id","history","push","number","startIndex","get","then","res","users","map","user","first_name","last_name","email","gender","ip_address","total_clicks","total_page_views"],"mappings":"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","sourcesContent":["import React, {useEffect,useState} from 'react';\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Table from 'react-bootstrap/Table';\nimport Pagination from 'react-bootstrap/Pagination';\nimport axios from 'axios';\nimport {Redirect} from \"react-router-dom\";\nimport {withRouter} from 'react-router-dom';\n\nconst UserListPage =({setUserId})=>{\n    const [data, setData] = useState([]);\n    const [active,setActive]=useState(1);\n    let items = [];\n\n    const paginationClickHandler=(e)=>{\n        setActive(parseInt(e.target.text));\n        fetchData((parseInt(e.target.text)*50)-50);\n    };\n\n    const changeRowColor =(e)=>{\n        e.target.parentElement.style.backgroundColor='red';\n    };\n\n    const resetRowColor=(e)=>{\n        e.target.parentElement.style.backgroundColor='white';\n    };\n\n    const rowClickHandler =(id)=>{\n        setUserId(id);\n        history.push('/posts/')\n        return <Redirect  to=\"/profile\" />\n    };\n\n    for (let number = 1; number <= 10; number++) {\n        items.push(\n            <Pagination.Item\n                onClick={paginationClickHandler}\n                key={number}\n                active={number === active}>\n                {number}\n            </Pagination.Item>,\n        );\n    }\n\n    const fetchData=(startIndex)=>{\n            axios.get(`http://localhost:5000/users/${startIndex}`)\n                .then(res => {\n                    setData(res.data.users);\n                });\n        };\n\n    useEffect(() => {\n        fetchData(0);\n    }, []);\n\n\n    return (\n        <>\n            <Navbar bg=\"primary\" variant=\"dark\">\n                <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n            </Navbar>\n            <h1>User Statistics</h1>\n            <Table responsive>\n                <thead>\n                <tr>\n                    <th>id</th>\n                    <th>first_name</th>\n                    <th>last_name</th>\n                    <th>email</th>\n                    <th>gender</th>\n                    <th>ip_address</th>\n                    <th>total_clicks</th>\n                    <th>total_page_views</th>\n                </tr>\n                </thead>\n                <tbody>\n                {data.map((user)=>{\n                    return (\n                        <tr\n                            onMouseLeave={resetRowColor}\n                            onMouseOver={changeRowColor}\n                            onClick={(e)=>rowClickHandler(user.id)}\n                            key={user.id}>\n                            <td>{user.id}</td>\n                            <td>{user.first_name}</td>\n                            <td>{user.last_name}</td>\n                            <td>{user.email}</td>\n                            <td>{user.gender}</td>\n                            <td>{user.ip_address}</td>\n                            <td>{user.total_clicks}</td>\n                            <td>{user.total_page_views}</td>\n                        </tr>\n                        )\n                })}\n                </tbody>\n            </Table>\n            <Pagination size=\"sm\">{items}</Pagination>\n            <Navbar bg=\"primary\" variant=\"dark\">\n                <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n            </Navbar>\n        </>\n    )\n};\n\nexport default  withRouter(UserListPage);\n"]},"metadata":{},"sourceType":"module"}