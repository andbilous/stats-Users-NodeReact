{"ast":null,"code":"import _slicedToArray from \"/Users/andbilous/Desktop/fullstack-task/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andbilous/Desktop/fullstack-task/client/src/pages/ProfilePage/ProfilePage.js\";\nimport React, { useEffect, useState } from 'react';\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\nimport Legend from \"recharts/lib/component/Legend\";\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\n\nconst ProfilePage = ({\n  currentUserId\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fromDate = _useState4[0],\n        setFromDate = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        toDate = _useState6[0],\n        setToDate = _useState6[1];\n\n  const fetchData = (dateFrom, dateTo) => {\n    axios.get(`http://localhost:5000/user/${currentUserId}/${dateFrom}/${dateTo}`).then(res => {\n      setData(res.data.data);\n    });\n  };\n\n  const handleChangeRange = () => {\n    fetchData(new Date(fromDate), new Date(toDate));\n  };\n\n  useEffect(() => {\n    let dateTo = new Date(2019, 9, 15);\n    let dateFrom = new Date(dateTo.getTime() - 60 * 60 * 24 * 7 * 1000);\n    fetchData(dateFrom, dateTo);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n    bg: \"primary\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Navbar\")), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, data.first_name, \" \", data.last_name), React.createElement(\"section\", {\n    style: {\n      margin: \"auto\",\n      display: \"grid\",\n      flexDirection: \"column\",\n      alignItems: 'center',\n      justifyContent: 'center',\n      border: '1px solid black',\n      width: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"From\"), React.createElement(DayPickerInput, {\n    onDayChange: value => setFromDate(value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"To\"), React.createElement(DayPickerInput, {\n    onDayChange: value => setToDate(value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: handleChangeRange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Set Range\")), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Clicks\"), React.createElement(LineChart, {\n    width: 900,\n    height: 300,\n    data: data.stats,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(XAxis, {\n    dataKey: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(YAxis, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Tooltip, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Legend, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"clicks\",\n    stroke: \"#8884d8\",\n    activeDot: {\n      r: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Views\"), React.createElement(LineChart, {\n    width: 900,\n    height: 300,\n    data: data.stats,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(XAxis, {\n    dataKey: \"date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(YAxis, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Tooltip, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(Legend, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"views\",\n    stroke: \"red\",\n    activeDot: {\n      r: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }))), React.createElement(Navbar, {\n    bg: \"primary\",\n    variant: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Navbar\")));\n};\n\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/andbilous/Desktop/fullstack-task/client/src/pages/ProfilePage/ProfilePage.js"],"names":["React","useEffect","useState","Navbar","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Legend","DayPickerInput","axios","Button","ProfilePage","currentUserId","data","setData","fromDate","setFromDate","toDate","setToDate","fetchData","dateFrom","dateTo","get","then","res","handleChangeRange","Date","getTime","first_name","last_name","margin","display","flexDirection","alignItems","justifyContent","border","width","value","stats","r"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\nimport Legend from \"recharts/lib/component/Legend\";\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport axios from \"axios\";\nimport {Button} from \"react-bootstrap\";\n\n\nconst ProfilePage =({currentUserId})=>{\n    const [data, setData] = useState([]);\n    const [fromDate,setFromDate]=useState(0);\n    const [toDate,setToDate]=useState(0);\n\n    const fetchData=(dateFrom,dateTo)=>{\n        axios.get(`http://localhost:5000/user/${currentUserId}/${dateFrom}/${dateTo}`)\n            .then(res => {\n                setData(res.data.data);\n            });\n    };\n\n    const handleChangeRange = () => {\n        fetchData(new Date(fromDate),new Date(toDate));\n    };\n\n    useEffect(() => {\n        let dateTo = new Date(2019,9,15);\n        let dateFrom =  new Date(dateTo.getTime()-(60*60*24*7*1000));\n        fetchData(dateFrom,dateTo);\n    }, []);\n\n    return (\n       <>\n           <Navbar bg=\"primary\" variant=\"dark\">\n               <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n           </Navbar>\n           <h1>{data.first_name} {data.last_name}</h1>\n           <section style={\n               {\n                   margin:\"auto\",display:\"grid\",flexDirection:\"column\",alignItems:'center',\n                   justifyContent:'center',\n                   border:'1px solid black',width:'80%'\n               }\n           }>\n               <div style={{display:\"flex\"}}>\n                   <h5>From</h5>\n                   <DayPickerInput onDayChange={value => setFromDate(value)} />\n                   <h5>To</h5>\n                   <DayPickerInput onDayChange={value => setToDate(value)} />\n                   <Button onClick={handleChangeRange}>Set Range</Button>\n               </div>\n               <h5>Clicks</h5>\n               <LineChart\n                   width={900}\n                   height={300}\n                   data={data.stats}>\n                   <CartesianGrid  strokeDasharray=\"3 3\" />\n                   <XAxis dataKey=\"date\"  />\n                   <YAxis />\n                   <Tooltip />\n                   <Legend />\n                   <Line type=\"monotone\" dataKey=\"clicks\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n               </LineChart>\n               <h5>Views</h5>\n               <LineChart\n                   width={900}\n                   height={300}\n                   data={data.stats}>\n                   <CartesianGrid  strokeDasharray=\"3 3\" />\n                   <XAxis dataKey=\"date\"  />\n                   <YAxis />\n                   <Tooltip />\n                   <Legend />\n                   <Line type=\"monotone\" dataKey=\"views\" stroke=\"red\" activeDot={{ r: 8 }} />\n               </LineChart>\n           </section>\n           <Navbar bg=\"primary\" variant=\"dark\">\n               <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n           </Navbar>\n           </>\n    )\n};\n\nexport default  ProfilePage;\n"]},"metadata":{},"sourceType":"module"}